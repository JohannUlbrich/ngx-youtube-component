{"version":3,"file":"ngx-youtube-component.umd.js.map","sources":["ng://ngx-youtube-component/lib/youtube.service.ts","ng://ngx-youtube-component/lib/youtube.component.ts","ng://ngx-youtube-component/lib/youtube.module.ts"],"sourcesContent":["import { Injectable, NgZone } from '@angular/core';\r\n\r\nconst getWindow = () => window;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class YoutubeService {\r\n  private _window: any;\r\n\r\n  private iframeApi: Promise<any>;\r\n\r\n  constructor(private zone: NgZone) {\r\n    this._window = getWindow();\r\n  }\r\n\r\n  public getIframeApi(): Promise<any> {\r\n    if (!this.iframeApi) {\r\n      this.loadIframeApi();\r\n    }\r\n\r\n    return this.iframeApi;\r\n  }\r\n\r\n  private loadIframeApi(): void {\r\n    this.iframeApi = new Promise(resolve => {\r\n      const scriptTag = this._window.document.createElement('script');\r\n      scriptTag.src = 'https://www.youtube.com/iframe_api';\r\n      this._window.document.body.appendChild(scriptTag);\r\n\r\n      // The IFrame Player API will call this function when the page has finished downloading the JavaScript for the player API\r\n      this._window['onYouTubeIframeAPIReady'] = () => {\r\n        resolve(this._window['YT']);\r\n      };\r\n    });\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  OnDestroy,\r\n  Input,\r\n  Output,\r\n  ElementRef\r\n} from '@angular/core';\r\n//import {} from '@types/youtube';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { YoutubeService } from './youtube.service';\r\n\r\n@Component({\r\n  selector: 'youtube',\r\n  template: '',\r\n  styles: []\r\n})\r\nexport class YoutubeComponent implements OnInit, OnDestroy {\r\n  @Input() width: number;\r\n  @Input() height: number;\r\n  @Input() videoId: string;\r\n  @Input() playerVars: YT.PlayerVars;\r\n  @Input() events: YT.Events;\r\n\r\n  private player: YT.Player;\r\n  private subscriptions: Subscription[] = [];\r\n\r\n  constructor(\r\n    private youtubeApiService: YoutubeService,\r\n    private playerElement: ElementRef\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    const playerOptions: YT.PlayerOptions = {};\r\n\r\n    if (this.width !== undefined) {\r\n      playerOptions.width = this.width;\r\n    }\r\n\r\n    if (this.height !== undefined) {\r\n      playerOptions.height = this.height;\r\n    }\r\n\r\n    if (this.videoId !== undefined) {\r\n      playerOptions.videoId = this.videoId;\r\n    }\r\n\r\n    if (this.playerVars !== undefined) {\r\n      playerOptions.playerVars = this.playerVars;\r\n    }\r\n\r\n    if (this.events !== undefined) {\r\n      playerOptions.events = {};\r\n\r\n      Object.keys(this.events).forEach(eventListenerName => {\r\n        if (this.events.hasOwnProperty(eventListenerName)) {\r\n          const eventListener = this.events[eventListenerName];\r\n          const subject = new Subject<any>();\r\n          const handler = event => subject.next(event);\r\n\r\n          playerOptions.events[eventListenerName] = handler;\r\n          this.subscriptions.push(subject.subscribe(eventListener));\r\n        }\r\n      });\r\n    }\r\n\r\n    this.youtubeApiService.getIframeApi().then(success => {\r\n      this.player = new success.Player(\r\n        this.playerElement.nativeElement,\r\n        playerOptions\r\n      );\r\n\r\n      return this.player;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    for (const subscription of this.subscriptions) {\r\n      subscription.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { YoutubeService } from './youtube.service';\r\nimport { YoutubeComponent } from './youtube.component';\r\n\r\n@NgModule({\r\n  imports: [],\r\n  providers: [YoutubeService],\r\n  declarations: [YoutubeComponent],\r\n  exports: [YoutubeComponent]\r\n})\r\nexport class YoutubeModule {}\r\n"],"names":["Injectable","NgZone","Subject","tslib_1.__values","Component","ElementRef","Input","NgModule"],"mappings":"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"}
