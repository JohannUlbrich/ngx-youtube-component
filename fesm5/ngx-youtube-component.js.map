{"version":3,"file":"ngx-youtube-component.js.map","sources":["ng://ngx-youtube-component/lib/youtube.service.ts","ng://ngx-youtube-component/lib/youtube.component.ts","ng://ngx-youtube-component/lib/youtube.module.ts"],"sourcesContent":["import { Injectable, NgZone } from '@angular/core';\n\nconst getWindow = () => window;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class YoutubeService {\n  private _window: any;\n\n  private iframeApi: Promise<any>;\n\n  constructor(private zone: NgZone) {\n    this._window = getWindow();\n  }\n\n  public getIframeApi(): Promise<any> {\n    if (!this.iframeApi) {\n      this.loadIframeApi();\n    }\n\n    return this.iframeApi;\n  }\n\n  private loadIframeApi(): void {\n    this.iframeApi = new Promise(resolve => {\n      const scriptTag = this._window.document.createElement('script');\n      scriptTag.src = 'https://www.youtube.com/iframe_api';\n      this._window.document.body.appendChild(scriptTag);\n\n      // The IFrame Player API will call this function when the page has finished downloading the JavaScript for the player API\n      this._window['onYouTubeIframeAPIReady'] = () => {\n        resolve(this._window['YT']);\n      };\n    });\n  }\n}\n","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  Input,\n  Output,\n  ElementRef\n} from '@angular/core';\n//import {} from '@types/youtube';\nimport { Subject, Subscription } from 'rxjs';\nimport { YoutubeService } from './youtube.service';\n\n@Component({\n  selector: 'youtube',\n  template: '',\n  styles: []\n})\nexport class YoutubeComponent implements OnInit, OnDestroy {\n  @Input() width: number;\n  @Input() height: number;\n  @Input() videoId: string;\n  @Input() playerVars: YT.PlayerVars;\n  @Input() events: YT.Events;\n\n  private player: YT.Player;\n  private subscriptions: Subscription[] = [];\n\n  constructor(\n    private youtubeApiService: YoutubeService,\n    private playerElement: ElementRef\n  ) {}\n\n  ngOnInit() {\n    const playerOptions: YT.PlayerOptions = {};\n\n    if (this.width !== undefined) {\n      playerOptions.width = this.width;\n    }\n\n    if (this.height !== undefined) {\n      playerOptions.height = this.height;\n    }\n\n    if (this.videoId !== undefined) {\n      playerOptions.videoId = this.videoId;\n    }\n\n    if (this.playerVars !== undefined) {\n      playerOptions.playerVars = this.playerVars;\n    }\n\n    if (this.events !== undefined) {\n      playerOptions.events = {};\n\n      Object.keys(this.events).forEach(eventListenerName => {\n        if (this.events.hasOwnProperty(eventListenerName)) {\n          const eventListener = this.events[eventListenerName];\n          const subject = new Subject<any>();\n          const handler = event => subject.next(event);\n\n          playerOptions.events[eventListenerName] = handler;\n          this.subscriptions.push(subject.subscribe(eventListener));\n        }\n      });\n    }\n\n    this.youtubeApiService.getIframeApi().then(success => {\n      this.player = new success.Player(\n        this.playerElement.nativeElement,\n        playerOptions\n      );\n\n      return this.player;\n    });\n  }\n\n  ngOnDestroy() {\n    for (const subscription of this.subscriptions) {\n      subscription.unsubscribe();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { YoutubeService } from './youtube.service';\nimport { YoutubeComponent } from './youtube.component';\n\n@NgModule({\n  imports: [],\n  providers: [YoutubeService],\n  declarations: [YoutubeComponent],\n  exports: [YoutubeComponent]\n})\nexport class YoutubeModule {}\n"],"names":["tslib_1.__values"],"mappings":"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"}
